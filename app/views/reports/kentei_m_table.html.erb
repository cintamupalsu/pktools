<% provide(:title,"Monthly Excercise Report") %>
<div class="row">
  <aside class="col-1">
    <%= render 'sidemenu' %>
  </aside>
  <div class="col-11 pl-4">
    <div class="card">
      <div class="card-header text-center">
        Monthly Excercise Report
      </div>
      <div class="card-body">

        <table class="table table-bordered table-responsive">
          <thead>
            <tr>
              <th scope="col" class="text-center">ﾕｰｻﾞ</th>
              <% @days.each do |k,v| %>
                <% if !@holidays[k] %>
                  <th scope="col" class="text-center ">
                <% else %>
                  <th scope="col" class="text-center bg-danger">
                <% end %>
                <%=k%></th>
              <% end %>
            </tr>
          </thead>
          <tbody>
            <% (0..@users.count-1).each do |i| %>
            <tr>
              <th scope="col"><%= @users[i]%></th>
              <% @days.each do |k,v| %>
                <% if !@holidays[k] %>
                  <th scope="col" class="text-center ">
                <% else %>
                  <th scope="col" class="text-center bg-danger">
                <% end %>
                <% if @matrix[i][k]!=nil %>
                  <% if @matrix[i][k]==true %>
                    〇
                  <% else %>
                    ×
                  <% end %>
                <% end %>
                </th>
              <% end %>
            </tr>
            <% end %>
            <tr class="table-primary">
              <th scope="col">
                問題の番号
              </th>
              <% @days.each do |k,v| %>
              <th scope="col" class="text-right">
                <%= Kmondai.find(@mondaiid[k]).number %>
              </th>
              <% end %>
            </tr>
            <tr class="table-success">
              <th scope="col">
                正解した人数
              </th>
              <% @days.each do |k,v| %>
                <th scope="col" class="text-right">
                  <%= @correct[k] %>
                </th>
              <% end %>
            </tr>
            <tr class="table-warning">
              <th scope="col">
                あ違えた人数
              </th>
              <% @days.each do |k,v| %>
                <th scope="col" class="text-right">
                  <%= @incorrect[k] %>
                </th>
              <% end %>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

