<% provide(:title,"MPEG-7") %>
<div class="row">
  <aside class="col-xl-1">
    <%= render 'sidemenu' %>
  </aside>
  <div class="col-xl-11">
    <ul class="nav nav-tabs" id="myTab" role="tablist">
      <li class="nav-item">
        <a class="nav-link active" id="gazouichiran-tab" data-toggle="tab" href="#gazouichiran" role="tab" aria-controls="gazouichiran" aria-selected="true">画像一覧</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="gazouinput-tab" data-toggle="tab" href="#gazouinput" role="tab" aria-controls="gazouinput" aria-selected="false">画像入力</a>
      </li>
    </ul>
    <div class="tab-content" id="myTabContent">
      <div class="tab-pane fade show active" id="gazouichiran" role="tabpanel" aria-labelledby="gazouichiran-tab">
        <div class="row bg-white" id="innertab">
          <div class="col-xl-12 " id="layout">
            </br>
            <% if @files_png!=nil %>
              <%= render 'images' %>
            <% end %>
            </br>
            When \(a \ne 0\), there are two solutions to \(ax^2 + bx + c = 0\) and they are
            $$x = {-b \pm \sqrt{b^2-4ac} \over 2a}.$$
            \(a^2 = b^2 + c^2\) means \(a = \sqrt{b^2 + c^2}\)
            $$F_1 = \{(c_{1i},p_{1i},v_{1i}), (i = 1,2,\dots,N_1)$$
            $$M = \begin{bmatrix}
            \frac{5}{6} & \frac{1}{6} & 0           \\[0.3em]
            \frac{5}{6} & 0           & \frac{1}{6} \\[0.3em]
            0           & \frac{5}{6} & \frac{1}{\frac{6}{\frac{10}{3}}}
            \end{bmatrix}$$
            \( \bar{w} \) = 
            <%=@paramkocok%><br/>
            \( \bar{w} \) = 
            <%=@pasticocok%><br/>
            \( \bar{w} \) = 
            <%=@cocok%>
            <br/>
            <%=@response['OriginTime']%><br/>
            <%=@response['Hypocenter']['Location']%><br/>
            <%=@response['Hypocenter']['Magnitude']%><br/>
            <p>覚えてください</p>
            \(X=\{x_1,x_2,\dots,x_n\}\)
            \(Y=\{y_1,y_2,\dots,y_n\}\)<br/>
            Manhattan Distance:
            $$D(X,Y)=|x_1-y_1|+|x_2-y_2|+\dots+|x_n-y_n|$$
            Euclidean Distance:
            $$D(X,Y)=\sqrt{(x_1-y_1)^2+\dots+(x_n-y_n)^2}$$
            Cosine Similarity Distance:
            $$D(X,Y)=1-\frac{\displaystyle\sum_{i=1}^{n}x_iy_i}{\sqrt{\displaystyle\sum_{i=1}^{n}x_i^2}\sqrt{\displaystyle\sum_{i=1}^{n}y_i^2}}$$
          </div>
        </div>
      </div>
      <div class="tab-pane fade" id="gazouinput" role="tabpanel" aria-labelledby="gazouinput">
        <div class="row bg-white" id="innertab">
          <div class="col-xl-12 " id="layout">
            <%= form_for(:saving, url: image_saving_path) do |f| %>
              <%= f.label :filename, "画像" %>
              <%= f.file_field :filename, class: 'form-control mb-1', accept: 'image/png' %>
              </br>
              <%= f.submit "登録", class: "btn btn-outline-primary btn-block" %>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
  $('#saving_filename').bind('change', function(){
    var size_in_megabytes = this.files[0].size/1024/1024;
    if (size_in_megabytes>5){
      alert('Maximum file size is 5MB. Please choose a smaller file.');
    }
  });
</script>